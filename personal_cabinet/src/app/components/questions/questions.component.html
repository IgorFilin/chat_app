<form (ngSubmit)="onSubmit()" class="ng-questions" [formGroup]="questionForm">
  <div class="ng-questions__infoText">Выберите тему для вопроса:</div>
  <div>
    <mat-form-field>
      <mat-label>Тема</mat-label>
      <mat-select formControlName="theme">
        <mat-option value="JavaScript">javaScript</mat-option>
        <mat-option value="Typescript">typescript</mat-option>
        <mat-option value="Angular">angular</mat-option>
        <mat-option value="Vue">vue</mat-option>
        <mat-option value="DataScience">DataScience</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <label class="ng-questions__textareaLabel" for="question">Ваш вопрос: </label>
  <textarea
    cdkTextareaAutosize
    cdkAutosizeMinRows="4"
    cdkAutosizeMaxRows="13"
    id="question"
    formControlName="question"
    class="ng-questions__textarea"
  ></textarea>
  <div class="ng-questions__infoText">
    Выберите правильный вариант ответа на Ваш вопрос, и заполните поля ответа
  </div>
  <div class="ng-questions__variantsContainer">
    <div class="ng-questions__textareaLabel">Вариант(ы) ответа:</div>
    <div formArrayName="answers" class="ng-questions__variantAnswersContainer">
      @for (answer of answersArray.value; track $index){
      <div class="ng-questions__answerContainer" [formGroupName]="$index">
        <mat-checkbox formControlName="accept"></mat-checkbox>
        <textarea
          id="question"
          formControlName="value"
          class="ng-questions__textarea variantAnswer"
        ></textarea>
      </div>
      }
    </div>
  </div>
  <div class="ng-questions__buttonContainer">
    <button
      type="button"
      class="primary"
      (click)="onHandlerClickAddQuestions(); $event.stopPropagation()"
    >
      Добавить ещё ответ
    </button>
    <button
      type="button"
      *ngIf="answersArray.value.length > 1"
      class="primary"
      (click)="onHandlerClickRemoveQuestions()"
    >
      Удалить ответ
    </button>
    <button [disabled]="!questionForm.valid" class="primary" type="submit">
      Создать
    </button>
  </div>
</form>
